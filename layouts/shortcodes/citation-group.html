{{- $heading := .Get "heading" -}}
{{- $background := .Get "background" | default "#f4f4f4" -}}
{{- $columns := .Get "columns" | default "1" -}}
{{- $id := .Get "heading" | urlize -}}

<div class="citation-group" style="background-color: {{ $background }};">
  {{- with $heading -}}
  <h3 id="{{ $id }}" class="citation-group-heading">{{ . }}</h3>
  {{- end -}}
  <div class="citation-group-content{{ if eq $columns "2" }} citation-group-2col{{ end }}">
    {{ .Inner }}
  </div>
</div>

<style>
  .citation-group {
    width: 100%;
    border-radius: 8px;
    padding: 0.5em 0 0.5em 0;
    margin: 1em 0em 1em 0em;
  }

  .citation-group > .citation-group-heading {
    margin: 0.0em 0.75em 1.0em 0.5em !important;
    font-size: 1.1em !important;
    font-weight: 600 !important;
    color: #333333 !important;
  }

  .citation-group-content {
    display: flex;
    flex-direction: column;
  }

  .citation-group-content.citation-group-2col {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.5em 1em;
  }

  @media (max-width: 768px) {
    .citation-group-content.citation-group-2col {
      grid-template-columns: 1fr;
    }
  }

  .citation-group .citation {
    background-color: transparent;
  }
</style>
